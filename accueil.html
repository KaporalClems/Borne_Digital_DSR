<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Page d'Accueil Glissante</title>
    <!-- Inclut Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d121c;
            overflow: hidden; /* Empêche le défilement du corps de la page */
        }

        /* Styles pour le mode contraste élevé */
        body.high-contrast {
            filter: invert(1) hue-rotate(180deg);
            background-color: #fff; /* S'assure que le fond est blanc */
        }
        
        body.high-contrast #video-background {
             filter: invert(1) hue-rotate(180deg);
        }

        /* Styles pour la taille de police augmentée */
        body.larger-text h1 { font-size: 8rem; }
        body.larger-text h2 { font-size: 5rem; }
        body.larger-text .text-2xl { font-size: 2rem; }
        body.larger-text .text-lg { font-size: 1.5rem; }

        /* Styles pour le modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            padding: 2rem;
            border-radius: 1rem;
            width: 90%;
            max-width: 800px;
            color: white;
            position: relative;
            max-height: 90vh; /* Limite la hauteur du contenu du modal */
            overflow-y: auto; /* Ajoute un défilement si le contenu est trop grand */
        }
        
        .modal-content.policy-modal {
            max-height: 90vh;
        }

        .close-button {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            cursor: pointer;
            color: #9ca3af;
        }

        .modal-content h2, .modal-content h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .modal-content h2 {
            font-size: 2rem;
        }
        
        .modal-content h3 {
            font-size: 1.5rem;
        }
        
        .modal-content p, .modal-content ul, .modal-content li {
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        /* Style pour l'arrière-plan vidéo plein écran */
        #video-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -10;
        }
        
        /* Conteneur principal qui gère le glissement */
        #slider-container {
            display: flex;
            width: 300%; /* Trois écrans côte à côte */
            height: 100vh;
            transition: transform 0.5s ease-in-out;
        }
        
        /* Styles pour chaque écran */
        .screen {
            width: 100vw;
            height: 100vh;
            flex-shrink: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            color: white;
            box-sizing: border-box;
        }
        
        /* Panneau principal (écran 1) */
        .left-panel {
            background: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border-radius: 1rem;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            position: relative;
            overflow: hidden;
            width: 50%;
            height: 100%;
            margin-right: 1.5rem;
        }
        
        /* Styles pour les boutons de langue et le nouveau logo */
        .top-left-buttons {
            position: absolute;
            top: 2rem;
            left: 2rem;
            z-index: 10;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .flag-button {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            border: 2px solid white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .flag-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);
        }
        
        .logo-button {
            width: 80px;
            height: 80px;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .logo-button:hover {
            transform: scale(1.1);
        }

        /* Style pour le bouton d'accessibilité */
        .accessibility-button {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #3b82f6; /* Couleur de fond pour l'accessibilité */
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
            border: 2px solid #3b82f6;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .accessibility-button:hover {
            transform: scale(1.1);
            background-color: #1d4ed8;
            box-shadow: 0 0 15px rgba(29, 78, 216, 0.8);
        }

        .accessibility-icon {
            font-size: 3rem;
            color: white;
        }

        /* Panneau de grille (écrans 2 et 3) */
        .right-panel {
            display: grid;
            gap: 1.5rem;
            width: 100%;
            height: 100%;
            grid-template-columns: repeat(2, 1fr);
            grid-template-rows: repeat(3, 1fr);
        }

        .grid-item {
            background-color: rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            border-radius: 1rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: 1rem;
            cursor: pointer;
            /* Mise à jour de la transition pour inclure l'ombre */
            transition: transform 0.2s, background-color 0.2s, box-shadow 0.2s;
        }
        
        /* Boutons de différentes tailles */
        .grid-item-col-2 {
            grid-column: span 2;
        }
        .grid-item-row-2 {
            grid-row: span 2;
        }

        .grid-item:hover {
            transform: scale(1.03);
            background-color: rgba(255, 255, 255, 0.1);
        }

        /* NOUVEAU: Effet de pression au clic */
        .grid-item:active {
            transform: scale(0.97);
            box-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
        }
        
        .grid-icon {
            font-size: 5rem; 
            margin-bottom: 0.5rem;
        }
        
        .text-2xl {
            font-size: 1.5rem;
        }
        
        /* Styles de la barre inférieure */
        .footer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #090c12;
            padding: 0.5rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: #9ca3af;
            font-size: 0.875rem;
            flex-wrap: wrap; /* Permet un retour à la ligne sur les petits écrans */
        }
        
        /* Conteneur pour les liens du footer */
        .footer-links {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        /* Styles pour la barre de séparation */
        .footer-divider {
            padding: 0 0.5rem;
            color: #4b5563;
        }

        /* Points de navigation pour les écrans */
        #screen-dots {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.75rem;
            z-index: 20;
        }
        .dot {
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            transition: background-color 0.3s;
        }
        .dot.active {
            background-color: white;
        }
        
        /* Animation pour inviter à glisser */
        #swipe-prompt {
            position: fixed;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-size: 3rem;
            animation: bounce-right 2s infinite;
            z-index: 20;
        }
        
        @keyframes bounce-right {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(0);
            }
            40% {
                transform: translateX(-10px);
            }
            60% {
                transform: translateX(-5px);
            }
        }
        
        /* Styles pour le logo de l'office de tourisme */
        .tourisme-logo {
            width: 200px; /* Ajustez la taille selon vos besoins */
            height: auto;
        }
        
        /* Conteneur flexible pour le titre et le logo */
        .header-content {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap; /* Permet au contenu de s'adapter sur les petits écrans */
        }
        
        .logo-and-text {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        
        .office-text {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 1.125rem;
            line-height: 1.25;
            text-transform: uppercase;
            max-width: 200px;
        }
        
        /* Styles pour le modal d'accessibilité */
        .access-option-button {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 0.5rem;
            text-align: left;
            transition: background-color 0.2s;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .access-option-button:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .access-option-button.active {
            background-color: #3b82f6;
        }

        /* Styles pour le modal de mentions légales */
        .legal-modal-content {
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .legal-modal-content h2,
        .legal-modal-content h3 {
            font-family: 'Inter', sans-serif;
            font-weight: 700;
            font-size: 1.25rem; /* Taille de police légèrement réduite */
            margin-bottom: 0.5rem;
        }

        .legal-modal-content p {
            margin-bottom: 0.75rem; /* Marge réduite */
            font-size: 0.9rem; /* Taille de police légèrement réduite */
        }

        .editor-logo {
            max-width: 150px;
            height: auto;
            margin-bottom: 1rem;
        }
        
        .partners-logo {
            max-width: 100%;
            height: auto;
            margin-bottom: 1rem;
        }
        
        /* Styles pour les formulaires modaux */
        .form-modal-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid #4b5563;
            background-color: rgba(255, 255, 255, 0.05);
            color: white;
            font-size: 1rem;
        }
        
        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5);
        }
        
        .form-label {
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            color: #d1d5db;
        }
        
        .form-button {
            background-color: #22c55e;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
        }
        
        .form-button:hover {
            background-color: #16a34a;
        }
        
        /* Styles pour la nouvelle fenêtre de statut (succès/erreur) */
        .status-modal-content .status-icon {
            font-size: 5rem;
            margin-bottom: 1rem;
        }
        
        .status-modal-content .success-icon {
            color: #22c55e;
        }
        
        .status-modal-content .error-icon {
            color: #ef4444;
        }

        /* Style pour la case à cocher RGPD */
        .privacy-consent {
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
            font-size: 0.875rem;
            margin-top: 0.5rem;
            color: #d1d5db;
        }
        
        .privacy-consent input[type="checkbox"] {
            margin-top: 0.2rem;
            flex-shrink: 0;
            width: 1rem;
            height: 1rem;
            cursor: pointer;
        }

        .privacy-consent a {
            color: #3b82f6;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <video autoplay muted loop id="video-background">
        <source src="Destination Sud Réunion_HD.mp4" type="video/mp4" />
        Votre navigateur ne supporte pas la vidéo.
    </video>

    <!-- Conteneur principal de glissement -->
    <div id="slider-container">
        <!-- Écran 1 -->
        <div id="screen-1" class="screen">
            <div class="left-panel">
                <!-- Conteneur pour le logo et les boutons de langue -->
                <div class="top-left-buttons">
                    <img src="https://srias.re/wp-content/uploads/2020/12/Destination-Sud-Reunion-png-1-min.png" alt="Logo DSR" class="logo-button">
                    <a href="#" class="flag-button" onclick="changeLanguage('fr')" style="background-image: url('https://flagcdn.com/w320/fr.png');"></a>
                    <a href="#" class="flag-button" onclick="changeLanguage('en')" style="background-image: url('https://flagcdn.com/w320/gb.png');"></a>
                    <a href="#" class="flag-button" onclick="changeLanguage('es')" style="background-image: url('https://flagcdn.com/w320/es.png');"></a>
                    <a href="#" class="flag-button" onclick="changeLanguage('de')" style="background-image: url('https://flagcdn.com/w320/de.png');"></a>
                    <!-- Nouveau bouton d'accessibilité -->
                    <a href="#" class="accessibility-button" id="accessibility-btn">
                        <span class="accessibility-icon">♿</span>
                    </a>
                </div>
                <div class="left-panel-content">
                    <!-- Section mise à jour avec le logo et le texte de l'office de tourisme -->
                    <div class="logo-and-text">
                        <img src="https://www.sudreuniontourisme.fr/fileadmin/user_upload/Sud/logo.png" alt="Logo de l'Office de Tourisme du Sud de la Réunion" class="tourisme-logo">
                        <div class="office-text">
                            OFFICES DE TOURISME DU SUD DE LA RÉUNION
                        </div>
                    </div>
                    <h1 id="title-main" class="font-[Pacifico] text-6xl md:text-8xl lg:text-9xl mb-4 drop-shadow-lg">
                        Destination Sud Réunion
                    </h1>
                    <h2 id="title-welcome" class="font-bold text-4xl md:text-5xl lg:text-6xl text-white drop-shadow-lg">
                        Bienvenue
                    </h2>
                </div>
            </div>
            <div class="right-panel">
                <a href="#" class="grid-item">
                    <span class="grid-icon">🗺️</span>
                    <span id="nav-discover" class="text-2xl font-semibold">Découvrir</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🎈</span>
                    <span id="nav-activities" class="text-2xl font-semibold">Activités &amp; sensations</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">📅</span>
                    <span id="nav-agenda" class="text-2xl font-semibold">Agenda</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🍽️</span>
                    <span id="nav-eat" class="text-2xl font-semibold">Où manger ?</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🛏️</span>
                    <span id="nav-sleep" class="text-2xl font-semibold">Où dormir ?</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">ℹ️</span>
                    <span id="nav-info" class="text-2xl font-semibold">Infos pratiques</span>
                </a>
            </div>
        </div>

        <!-- Écran 2 -->
        <div id="screen-2" class="screen">
            <div class="right-panel">
                <!-- Boutons de différentes tailles -->
                <a href="#" class="grid-item grid-item-col-2">
                    <span class="grid-icon">☀️</span>
                    <span id="nav-weather" class="text-2xl font-semibold">La Météo</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">⛰️</span>
                    <span id="nav-hikes" class="text-2xl font-semibold">Randonnées</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🌊</span>
                    <span id="nav-water" class="text-2xl font-semibold">Activités Nautiques</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🗺️</span>
                    <span id="nav-discover-2" class="text-2xl font-semibold">Découvrir</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🎈</span>
                    <span id="nav-activities-2" class="text-2xl font-semibold">Activités &amp; sensations</span>
                </a>
            </div>
        </div>

        <!-- Écran 3 -->
        <div id="screen-3" class="screen">
            <div class="right-panel">
                <a href="#" class="grid-item">
                    <span class="grid-icon">🕹️</span>
                    <span id="nav-games" class="text-2xl font-semibold">Jeux</span>
                </a>
                <a href="#" class="grid-item grid-item-row-2">
                    <span class="grid-icon">🎥</span>
                    <span id="nav-videos" class="text-2xl font-semibold">Vidéos et reportages</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">📚</span>
                    <span id="nav-brochures" class="text-2xl font-semibold">Brochures</span>
                </a>
                <a href="#" class="grid-item">
                    <span class="grid-icon">🎧</span>
                    <span id="nav-audio" class="text-2xl font-semibold">Guides audio</span>
                </a>
                 <a href="#" class="grid-item grid-item-col-2">
                    <span class="grid-icon">ℹ️</span>
                    <span id="nav-info-2" class="text-2xl font-semibold">Infos pratiques</span>
                </a>
            </div>
        </div>
    </div>
    
    <!-- Animation pour le glissement -->
    <div id="swipe-prompt" class="hidden md:block">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-12 h-12">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
        </svg>
    </div>

    <!-- Points de navigation -->
    <div id="screen-dots">
        <div class="dot active"></div>
        <div class="dot"></div>
        <div class="dot"></div>
    </div>
    
    <!-- Barre de pied de page -->
    <div class="footer-bar">
        <!-- Conteneur pour les liens du footer -->
        <div class="footer-links">
            <!-- Mise à jour pour afficher l'année en cours automatiquement -->
            <span id="current-year"></span>
            <span>DSR</span>
            <span class="footer-divider">|</span>
            <a href="#" id="legal-link" class="text-sm">Mentions légales</a>
            <span class="footer-divider">|</span>
            <a href="#" id="newsletter-link" class="text-sm">Newsletter</a>
            <span class="footer-divider">|</span>
            <a href="#" id="contact-link" class="text-sm">Nous contacter</a>
        </div>
        <a href="index.html" class="flex items-center gap-2">
            Retour à l'écran de verrouillage
        </a>
    </div>

    <!-- Modal d'Accessibilité -->
    <div id="accessibility-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-modal-btn">&times;</span>
            <h3 class="text-3xl font-bold mb-6">Options d'Accessibilité</h3>
            
            <button id="contrast-btn" class="access-option-button">
                <span class="text-2xl">🎨</span> Mode Contraste Élevé
            </button>
            <button id="text-size-btn" class="access-option-button">
                <span class="text-2xl">🔍</span> Taille de Police Augmentée
            </button>
            <button id="animations-btn" class="access-option-button">
                <span class="text-2xl">🚫</span> Désactiver les Animations
            </button>
            <button id="screen-reader-btn" class="access-option-button">
                <span class="text-2xl">🗣️</span> Activer le Lecteur d'Écran
            </button>
            <button id="voice-command-btn" class="access-option-button">
                <span class="text-2xl">🎤</span> Activer les Commandes Vocales
            </button>
        </div>
    </div>

    <!-- Modal Mentions Légales -->
    <div id="legal-modal" class="modal">
        <div class="modal-content legal-modal-content">
            <span class="close-button" id="close-legal-modal-btn">&times;</span>
            <h2 class="text-3xl font-bold mb-6">Mentions Légales</h2>
            <img src="https://srias.re/wp-content/uploads/2020/12/Destination-Sud-Reunion-png-1-min.png" alt="Logo Destination Sud Réunion" class="editor-logo">
            <p><strong>Éditeur du site :</strong> Destination Sud Réunion</p>
            <p><strong>Adresse :</strong> Capitainerie du Port de Plaisance Lislet Geoffroy - place Napoléon Hoareau, 97410 Saint-Pierre</p>
            <p><strong>Contact :</strong><br>Téléphone : 0262353433<br>Email : saintpierre.tourisme@gmail.com</p>
            <p><strong>Hébergement :</strong><br>Google Cloud Platform</p>
            <p><strong>Propriété intellectuelle :</strong><br>Le contenu de ce site (textes, images, etc.) est la propriété exclusive de Déstination Sud Réunion, sauf mention contraire. Toute reproduction ou utilisation, même partielle, est interdite sans autorisation préalable.</p>
            <p><strong>Protection des données personnelles :</strong><br>Ce site ne collecte aucune donnée personnelle. Le jeu est conçu pour être anonyme et ne stocke aucune information sur les joueurs.</p>
            <h3>Partenaires</h3>
            <!-- URL de l'image des partenaires mise à jour pour un dépôt GitHub -->
            <img src="https://raw.githubusercontent.com/KaporalClems/borne-vital-sport/refs/heads/main/logo_partenaires-removebg-preview.png" alt="Logos partenaires" class="partners-logo">
            <p><strong>Crédits photos :</strong><br>Les images utilisées par Destination Sud Réunion.</p>
        </div>
    </div>
    
    <!-- Modal Newsletter -->
    <div id="newsletter-modal" class="modal">
        <div class="modal-content form-modal-content">
            <span class="close-button" id="close-newsletter-modal-btn">&times;</span>
            <h2 class="text-3xl font-bold mb-6">Newsletter</h2>
            <!-- L'attribut action pointe vers votre URL Formspree. REMPLACÉ PAR LE NOUVEAU LIEN -->
            <form id="newsletter-form" action="https://formspree.io/f/xovlokvl" method="POST">
                <div class="form-group">
                    <label for="newsletter-email" class="form-label">Email*</label>
                    <!-- L'attribut 'name' est important pour que Formspree reconnaisse le champ -->
                    <input type="email" id="newsletter-email" name="email" required class="form-input">
                </div>
                <div class="form-group">
                    <label for="newsletter-firstname" class="form-label">Prénom</label>
                    <input type="text" id="newsletter-firstname" name="firstname" class="form-input">
                </div>
                <div class="form-group">
                    <label for="newsletter-lastname" class="form-label">Nom</label>
                    <input type="text" id="newsletter-lastname" name="lastname" class="form-input">
                </div>
                <!-- Nouvelle section pour le consentement RGPD -->
                <div class="privacy-consent">
                    <input type="checkbox" id="newsletter-rgpd" name="rgpd" required>
                    <label for="newsletter-rgpd">
                        J'ai lu et j'accepte les conditions de traitement de mes données personnelles conformément à la <a href="#" id="privacy-policy-link">politique de confidentialité</a>.
                    </label>
                </div>
                <button type="submit" class="form-button mt-4">S'abonner</button>
            </form>
        </div>
    </div>

    <!-- Modal Nous Contacter -->
    <div id="contact-modal" class="modal">
        <div class="modal-content form-modal-content">
            <span class="close-button" id="close-contact-modal-btn">&times;</span>
            <h2 class="text-3xl font-bold mb-6">Contactez-nous</h2>
            <!-- L'attribut action pointe vers votre URL Formspree. REMPLACÉ PAR LE NOUVEAU LIEN -->
            <form id="contact-form" action="https://formspree.io/f/mgvzjnvl" method="POST">
                <!-- Champ caché pour l'objet de l'email, géré par Formspree -->
                <input type="hidden" name="_subject" value="Nouveau message de contact depuis le site DSR">

                <div class="form-group">
                    <label for="contact-name" class="form-label">Nom*</label>
                    <input type="text" id="contact-name" name="name" required class="form-input">
                </div>
                <div class="form-group">
                    <label for="contact-email" class="form-label">Email*</label>
                    <input type="email" id="contact-email" name="email" required class="form-input">
                </div>
                <div class="form-group">
                    <label for="contact-subject" class="form-label">Objet*</label>
                    <select id="contact-subject" name="subject" required class="form-select">
                        <option value="">- Veuillez sélectionner -</option>
                        <option value="Demande d'informations">Demande d'informations</option>
                        <option value="Partenariat">Partenariat</option>
                        <option value="Autre">Autre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="contact-message" class="form-label">Message*</label>
                    <textarea id="contact-message" name="message" rows="4" required class="form-textarea"></textarea>
                </div>
                <div class="recaptcha-container">
                    <div class="recaptcha-checkbox"></div>
                    <span>Je ne suis pas un robot</span>
                </div>
                <button type="submit" class="form-button mt-4">Envoyer</button>
            </form>
        </div>
    </div>
    
    <!-- Nouveau modal pour les messages de statut (succès/erreur) -->
    <div id="status-modal" class="modal">
        <div class="modal-content status-modal-content text-center">
            <span class="close-button" id="close-status-modal-btn">&times;</span>
            <div id="status-icon" class="status-icon"></div>
            <h2 id="status-title" class="text-3xl font-bold mb-2"></h2>
            <p id="status-message" class="text-lg"></p>
        </div>
    </div>
    
    <!-- Nouveau modal pour la politique de confidentialité -->
    <div id="privacy-policy-modal" class="modal">
        <div class="modal-content policy-modal">
            <span class="close-button" id="close-privacy-policy-modal-btn">&times;</span>
            <h2 class="text-3xl font-bold">Politique de confidentialité</h2>
            <p>Lorsque vous utilisez notre site internet et les services associés, nous collectons et traitons certaines données. La présente politique de confidentialité vous expose quelles sont les informations recueillies par Destination Sud Réunion sur vous, comment nous les collectons, dans quel but et les droits que vous avez concernant vos données personnelles.</p>
            <p><strong>Destination Sud Réunion</strong> est l’entité responsable du traitement de vos données personnelles. La liste de ces données personnelles et les raisons pour lesquelles nous collectons ces informations sont expliquées ci-après :</p>

            <h3>1. Services tiers</h3>
            <p>Pour faciliter l’utilisation de notre site et le rendre plus agréable, nous collectons certaines informations. Le site sudreuniontourisme.fr utilise des services fournis par des sites tiers tels que :</p>
            <ul>
                <li>L'outil <strong>Google Analytics</strong> est utilisé à des fins statistiques et nous fournit des informations essentielles permettant d’améliorer l’expérience utilisateur et de proposer le contenu utile à nos visiteurs.</li>
                <li>Le site et services en ligne proposés, peuvent utiliser des <strong>cookies</strong> et d’autres technologies telles que des « pixel tags ».</li>
                <li>Des boutons de partage (Google+, Facebook, Twitter).</li>
                <li>Des vidéos diffusées sur le site (Youtube).</li>
            </ul>
            <p>Ces fonctionnalités s’appuient sur des cookies tiers déposés par ces services. Pour plus d’informations sur la politique de confidentialité et l’utilisation des cookies appliquée par ces services, merci de vous référer à leur site internet. <br>Twitter <br>Politique de confidentialité de Google+ et YouTube<br>Politique de confidentialité de Facebook <br>Bitly.com <br>addthis</p>

            <h3>2. Collecte de l’information</h3>
            <p>Nous recueillons des informations lorsque :</p>
            <ul>
                <li>Vous vous inscrivez sur notre site via le bouton contactez-nous. Les informations recueillies incluent votre nom*, votre adresse e-mail*, le lieu* qui vous intéresse, l'objet* du message, le message*. Les champs avec un astérisque (*) sont obligatoires.</li>
                <li>Vous vous inscrivez à notre newsletter. Les informations recueillies incluent votre adresse e-mail, votre prénom, votre nom. Durée de conservation : Destination Sud Réunion conserve les données tant que la personne concernée ne se désinscrit pas via le lien de désinscription intégré aux newsletters. Se désabonner : Nous utilisons l’adresse e-mail que vous fournissez pour vous envoyer, via nos newsletters, des informations touristiques et culturelles régulières, des informations précises sur nos produits ou les évènementiels en cours ou à venir. Si, à n’importe quel moment, vous souhaitez vous désinscrire et ne plus recevoir d’e-mails, des instructions de désabonnement détaillées sont incluses en bas de chaque newsletter.</li>
                <li>Vous vous inscrivez à notre espace pro. Les informations recueillies incluent votre adresse e-mail, votre prénom, votre nom, le nom de votre entreprise, votre numéro de téléphone.</li>
            </ul>

            <h3>3. Utilisation des informations</h3>
            <p>Toutes les informations que nous recueillons auprès de vous peuvent être utilisées pour :</p>
            <ul>
                <li>Personnaliser votre expérience et répondre à vos besoins individuels ;</li>
                <li>Améliorer notre site Web ;</li>
                <li>Améliorer le service client et vos besoins d'informations et de conseils touristiques ;</li>
                <li>Vous contacter par e-mail ;</li>
            </ul>

            <h3>4. Confidentialité</h3>
            <p>Nous sommes les seuls propriétaires des informations recueillies sur ce site. Vos informations personnelles ne seront pas vendues, échangées, transférées, ou données à une autre société pour n’importe quel raison, sans votre consentement, en dehors de ce qui est nécessaire pour répondre à une demande et / ou une transaction.</p>

            <h3>5. Divulgation à des tiers</h3>
            <p>Destination Sud Réunion n’a pas pour vocation de tirer un profit financier des données collectées. L'accès à vos données personnelles est strictement limité aux usages prévus et préposés de Destination Sud Réunion. Cependant, les données collectées pourront éventuellement être communiquées à des sous-traitants chargés contractuellement de l'exécution des tâches nécessaires au bon fonctionnement du site et de ses services ainsi qu’à la bonne gestion de la relation avec vous. Il est précisé que, dans le cadre de l’exécution de leurs prestations, les sous-traitants n’ont qu’un accès limité à vos données et ont une obligation contractuelle de les utiliser en conformité avec les dispositions de la législation applicable en matière de protection des données personnelles.</p>
            <p>Vos informations peuvent être consultées, si nécessaire, pour nous conformer à nos obligations légales ; par exemple, pour répondre à une décision de justice ou autre acte de procédure prise par les autorités compétentes.</p>
            <p>Conformément aux dispositions légales et réglementaires, vous disposez de droits d’accès, d’opposition, de rectification, de limitation et de suppression des données vous concernant. Toute demande liée à l’exercice de vos droits doit se faire en nous contactant via le formulaire contact.</p>
            <p>Pour vous informer sur vos droits rendez vous sur le site de la CNIL.</p>

            <h3>6. Protection des informations</h3>
            <p>Seuls les employés qui ont besoin d’effectuer un travail spécifique (par exemple, la facturation ou le service à la clientèle) ont accès aux informations personnelles identifiables.</p>

            <h3>7. Est-ce que nous utilisons des cookies ?</h3>
            <p>Oui. Nos cookies améliorent l’accès à notre site et identifient les visiteurs réguliers. En outre, nos cookies améliorent l’expérience d’utilisateur grâce au suivi et au ciblage de ses intérêts. Cependant, cette utilisation des cookies n’est en aucune façon liée à des informations personnelles identifiables sur notre site.</p>
            <h4>Qu'est-ce qu'un témoin de connexion (cookie) ?</h4>
            <p>Un cookie est un fichier texte stocké sur votre ordinateur quand vous visitez notre site. Ils permettent d'identifier votre ordinateur lors de votre prochaine visite.</p>
            <h4>Quelle utilisation faisons-nous des cookies ?</h4>
            <p>Lorsque vous visitez notre site nous pouvons, selon vos choix exprimés par le paramétrage de votre navigateur, installer divers cookies sur le disque dur de votre ordinateur. Nous pouvons lire les cookies que nous avons installés pendant la durée de validité de chaque cookie ou jusqu'à ce que vous supprimiez ledit cookie.</p>
            <p>Nous utilisons les cookies pour les finalités suivantes sur notre site:</p>
            <ul>
                <li>Analyse de la performance de notre site à partir d'informations anonymes sur votre navigation (par exemple: pages vues, nombre de visites….). Nous utilisons pour ce faire l'outil d'analyse «Google Analytics».</li>
                <li>Partage de votre géopositionnement afin d'affiner les itinéraires cartographiques que nous vous proposons.</li>
            </ul>
            <p>Les cookies que nous utilisons ne nous permettent pas de vous identifier personnellement. Les données recueillies sont conservées pour une durée limitée et ne sont pas cédées à des tiers ni utilisées à d'autres fins.</p>
            <h4>Puis-je m'opposer à l'enregistrement des cookies ?</h4>
            <p>Vous pouvez vous opposer à l'enregistrement de ces "cookies" de façon globale ou au cas par cas en ajustant les paramètres de votre navigateur. Nous vous invitons à vous reporter à la procédure figurant dans les règles d'utilisation de votre navigateur.</p>
            <p>Nous vous informons néanmoins que si vous choisissez de refuser tout type de cookies, certaines fonctionnalités du site pourraient ne pas être accessibles. Vous pouvez également désactiver les cookies placés dans le cadre de l'utilisation de Google Analytics en installant le module complémentaire fourni par Google à l'adresse suivante : <a href="https://tools.google.com/dlpage/gaoptout?hl=fr" target="_blank">https://tools.google.com/dlpage/gaoptout?hl=fr</a></p>

            <h3>8. Consentement</h3>
            <p>En utilisant notre site, vous consentez à notre politique de confidentialité.</p>

            <h3>9. Nous contacter</h3>
            <p>Pour obtenir des informations sur le traitement des données personnelles ou exercer vos droits sur les données vous concernant, contactez Destination Sud Réunion :</p>
            <ul>
                <li>Par voie électronique : le formulaire contact</li>
                <li>Par courrier postal : Destination Sud Réunion - 29, route de L'Entre Deux - Pierrefonds - 97410 Saint-Pierre</li>
            </ul>
            <p>Toute demande doit comporter le maximum d’informations afin qu’elle puisse être traitée dans les meilleurs délais.</p>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('slider-container');
            const screens = document.querySelectorAll('.screen');
            const dots = document.querySelectorAll('.dot');
            const swipePrompt = document.getElementById('swipe-prompt');
            const numScreens = screens.length;
            let currentScreenIndex = 0;
            let startX = 0;
            let isDragging = false;
            let inactivityTimeout; // Déclarez la variable pour le minuteur

            // Durée d'inactivité en millisecondes avant la redirection (ici 60 secondes)
            const inactivityDuration = 60000;

            // Références aux éléments d'accessibilité
            const accessibilityBtn = document.getElementById('accessibility-btn');
            const accessibilityModal = document.getElementById('accessibility-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const contrastBtn = document.getElementById('contrast-btn');
            const textSizeBtn = document.getElementById('text-size-btn');
            const animationsBtn = document.getElementById('animations-btn');
            const screenReaderBtn = document.getElementById('screen-reader-btn');
            const voiceCommandBtn = document.getElementById('voice-command-btn');

            // Références aux éléments de mentions légales
            const legalLink = document.getElementById('legal-link');
            const legalModal = document.getElementById('legal-modal');
            const closeLegalModalBtn = document.getElementById('close-legal-modal-btn');
            
            // Références aux nouveaux éléments de pied de page
            const newsletterLink = document.getElementById('newsletter-link');
            const newsletterModal = document.getElementById('newsletter-modal');
            const closeNewsletterModalBtn = document.getElementById('close-newsletter-modal-btn');
            
            const contactLink = document.getElementById('contact-link');
            const contactModal = document.getElementById('contact-modal');
            const closeContactModalBtn = document.getElementById('close-contact-modal-btn');
            
            // Références pour le nouveau modal de statut
            const statusModal = document.getElementById('status-modal');
            const closeStatusModalBtn = document.getElementById('close-status-modal-btn');
            const statusTitle = document.getElementById('status-title');
            const statusMessage = document.getElementById('status-message');
            const statusIcon = document.getElementById('status-icon');
            
            // Nouveaux éléments de la politique de confidentialité
            const privacyPolicyLink = document.getElementById('privacy-policy-link');
            const privacyPolicyModal = document.getElementById('privacy-policy-modal');
            const closePrivacyPolicyModalBtn = document.getElementById('close-privacy-policy-modal-btn');

            // Fonction pour réinitialiser le minuteur d'inactivité
            function resetInactivityTimer() {
                clearTimeout(inactivityTimeout);
                inactivityTimeout = setTimeout(() => {
                    window.location.href = 'index.html';
                }, inactivityDuration);
            }

            // Écoutez les événements qui indiquent une activité de l'utilisateur
            document.addEventListener('mousemove', resetInactivityTimer);
            document.addEventListener('mousedown', resetInactivityTimer);
            document.addEventListener('keypress', resetInactivityTimer);
            document.addEventListener('touchmove', resetInactivityTimer);
            
            // Dictionnaire des traductions
            const translations = {
                'fr': {
                    'title-main': 'Destination Sud Réunion',
                    'title-welcome': 'Bienvenue',
                    'nav-discover': 'Découvrir',
                    'nav-activities': 'Activités & sensations',
                    'nav-agenda': 'Agenda',
                    'nav-eat': 'Où manger ?',
                    'nav-sleep': 'Où dormir ?',
                    'nav-info': 'Infos pratiques',
                    'nav-weather': 'La Météo',
                    'nav-hikes': 'Randonnées',
                    'nav-water': 'Activités Nautiques',
                    'nav-videos': 'Vidéos et reportages',
                    'nav-brochures': 'Brochures',
                    'nav-audio': 'Guides audio',
                    'nav-games': 'Jeux',
                    // Pour les boutons en double sur d'autres écrans
                    'nav-discover-2': 'Découvrir',
                    'nav-activities-2': 'Activités & sensations',
                    'nav-info-2': 'Infos pratiques'
                },
                'en': {
                    'title-main': 'South Reunion Island Destination',
                    'title-welcome': 'Welcome',
                    'nav-discover': 'Discover',
                    'nav-activities': 'Activities & thrills',
                    'nav-agenda': 'Events',
                    'nav-eat': 'Where to eat?',
                    'nav-sleep': 'Where to sleep?',
                    'nav-info': 'Practical info',
                    'nav-weather': 'The Weather',
                    'nav-hikes': 'Hikes',
                    'nav-water': 'Water Activities',
                    'nav-videos': 'Videos and reports',
                    'nav-brochures': 'Brochures',
                    'nav-audio': 'Audio guides',
                    'nav-games': 'Games',
                    'nav-discover-2': 'Discover',
                    'nav-activities-2': 'Activities & thrills',
                    'nav-info-2': 'Practical info'
                },
                'es': {
                    'title-main': 'Destino Sur Reunión',
                    'title-welcome': 'Bienvenido',
                    'nav-discover': 'Descubrir',
                    'nav-activities': 'Actividades y sensaciones',
                    'nav-agenda': 'Agenda',
                    'nav-eat': '¿Dónde comer?',
                    'nav-sleep': '¿Dónde dormir?',
                    'nav-info': 'Información práctica',
                    'nav-weather': 'El tiempo',
                    'nav-hikes': 'Senderismo',
                    'nav-water': 'Actividades acuáticas',
                    'nav-videos': 'Vídeos y reportajes',
                    'nav-brochures': 'Folletos',
                    'nav-audio': 'Guías de audio',
                    'nav-games': 'Juegos',
                    'nav-discover-2': 'Descubrir',
                    'nav-activities-2': 'Actividades y sensaciones',
                    'nav-info-2': 'Información práctica'
                },
                'de': {
                    'title-main': 'Reiseziel Süd-Réunion',
                    'title-welcome': 'Willkommen',
                    'nav-discover': 'Entdecken',
                    'nav-activities': 'Aktivitäten & Nervenkitzel',
                    'nav-agenda': 'Veranstaltungskalender',
                    'nav-eat': 'Wo essen?',
                    'nav-sleep': 'Wo schlafen?',
                    'nav-info': 'Praktische Informationen',
                    'nav-weather': 'Das Wetter',
                    'nav-hikes': 'Wanderungen',
                    'nav-water': 'Wasseraktivitäten',
                    'nav-videos': 'Videos und Berichte',
                    'nav-brochures': 'Broschüren',
                    'nav-audio': 'Audioführer',
                    'nav-games': 'Spiele',
                    'nav-discover-2': 'Entdecken',
                    'nav-activities-2': 'Aktivitäten & Nervenkitzel',
                    'nav-info-2': 'Praktische Informationen'
                }
            };
            
            // Fonction pour changer la langue
            window.changeLanguage = function(lang) {
                const currentLangTranslations = translations[lang];
                if (currentLangTranslations) {
                    for (const key in currentLangTranslations) {
                        const element = document.getElementById(key);
                        if (element) {
                            element.textContent = currentLangTranslations[key];
                        }
                    }
                }
            };
            
            // Met à jour la position du carrousel et les points de navigation
            function updateSlider() {
                slider.style.transform = `translateX(-${currentScreenIndex * 100 / numScreens}%)`;
                dots.forEach((dot, index) => {
                    dot.classList.toggle('active', index === currentScreenIndex);
                });
                // Cache ou affiche l'animation de glissement
                if (currentScreenIndex === numScreens - 1) {
                    swipePrompt.style.display = 'none';
                } else {
                    swipePrompt.style.display = 'block';
                }
            }
            
            // Gère les événements tactiles
            function handleTouchStart(e) {
                startX = e.touches[0].clientX;
            }

            function handleTouchMove(e) {
                if (!startX) return;
                const moveX = e.touches[0].clientX;
                const diffX = moveX - startX;
                // Empêche le défilement vertical pendant le glissement horizontal
                if (Math.abs(diffX) > 10) {
                    e.preventDefault();
                }
                const newPos = `translateX(calc(-${currentScreenIndex * 100}vw + ${diffX}px))`;
                slider.style.transition = 'none';
                slider.style.transform = newPos;
            }
            
            function handleTouchEnd(e) {
                const endX = e.changedTouches[0].clientX;
                const diffX = endX - startX;
                slider.style.transition = 'transform 0.5s ease-in-out';
                
                if (diffX > 50 && currentScreenIndex > 0) {
                    currentScreenIndex--;
                } else if (diffX < -50 && currentScreenIndex < numScreens - 1) {
                    currentScreenIndex++;
                }
                updateSlider();
                startX = 0; // Réinitialise
            }
            
            // Gère les événements de la souris pour le glisser-déposer
            function handleMouseDown(e) {
                isDragging = true;
                startX = e.clientX;
                slider.style.cursor = 'grabbing';
            }
            
            function handleMouseMove(e) {
                if (!isDragging) return;
                const moveX = e.clientX;
                const diffX = moveX - startX;
                const newPos = `translateX(calc(-${currentScreenIndex * 100}vw + ${diffX}px))`;
                slider.style.transition = 'none';
                slider.style.transform = newPos;
            }
            
            function handleMouseUp(e) {
                if (!isDragging) return;
                isDragging = false;
                const endX = e.clientX;
                const diffX = endX - startX;
                slider.style.transition = 'transform 0.5s ease-in-out';
                
                if (diffX > 50 && currentScreenIndex > 0) {
                    currentScreenIndex--;
                } else if (diffX < -50 && currentScreenIndex < numScreens - 1) {
                    currentScreenIndex++;
                }
                updateSlider();
                startX = 0;
                slider.style.cursor = 'grab';
            }
            
            // Gère le défilement de la molette pour les ordinateurs de bureau
            function handleWheel(e) {
                if (e.deltaY > 0 && currentScreenIndex < numScreens - 1) {
                    currentScreenIndex++;
                } else if (e.deltaY < 0 && currentScreenIndex > 0) {
                    currentScreenIndex--;
                }
                updateSlider();
            }
            
            // Ajoute les écouteurs d'événements
            slider.addEventListener('touchstart', handleTouchStart);
            slider.addEventListener('touchmove', handleTouchMove);
            slider.addEventListener('touchend', handleTouchEnd);
            slider.addEventListener('mousedown', handleMouseDown);
            slider.addEventListener('mousemove', handleMouseMove);
            slider.addEventListener('mouseup', handleMouseUp);
            slider.addEventListener('mouseleave', handleMouseUp); // Arrête le glissement si la souris quitte
            document.addEventListener('wheel', handleWheel);
            
            // Met à jour l'année automatiquement
            const currentYearElement = document.getElementById('current-year');
            if (currentYearElement) {
                currentYearElement.textContent = `© ${new Date().getFullYear()}`;
            }

            // =======================================================
            // FONCTIONNALITÉS D'ACCESSIBILITÉ, MENTIONS LÉGALES ET FORMULAIRES
            // =======================================================
            
            // Fonction générique pour ouvrir un modal
            function openModal(modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            // Fonction générique pour fermer un modal
            function closeModal(modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }

            // Fonction pour afficher le modal de statut
            function showStatusModal(title, message, isSuccess) {
                statusTitle.textContent = title;
                statusMessage.textContent = message;
                // Met à jour l'icône et la couleur en fonction du succès ou de l'échec
                if (isSuccess) {
                    statusIcon.innerHTML = '✅';
                    statusIcon.classList.remove('error-icon');
                    statusIcon.classList.add('success-icon');
                } else {
                    statusIcon.innerHTML = '❌';
                    statusIcon.classList.remove('success-icon');
                    statusIcon.classList.add('error-icon');
                }
                openModal(statusModal);
            }

            // Affiche le modal d'accessibilité
            accessibilityBtn.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(accessibilityModal);
            });
            
            // Ferme le modal d'accessibilité
            closeModalBtn.addEventListener('click', () => {
                closeModal(accessibilityModal);
            });

            // Ferme les modaux si on clique en dehors
            window.addEventListener('click', (event) => {
                if (event.target === accessibilityModal) {
                    closeModal(accessibilityModal);
                }
                if (event.target === legalModal) {
                    closeModal(legalModal);
                }
                if (event.target === newsletterModal) {
                    closeModal(newsletterModal);
                }
                if (event.target === contactModal) {
                    closeModal(contactModal);
                }
                if (event.target === statusModal) {
                    closeModal(statusModal);
                }
                if (event.target === privacyPolicyModal) {
                    closeModal(privacyPolicyModal);
                }
            });
            
            // Ferme le modal de statut
            closeStatusModalBtn.addEventListener('click', () => {
                closeModal(statusModal);
            });


            // Gère le mode contraste élevé
            contrastBtn.addEventListener('click', () => {
                document.body.classList.toggle('high-contrast');
                contrastBtn.classList.toggle('active');
            });
            
            // Gère l'augmentation de la taille de la police
            textSizeBtn.addEventListener('click', () => {
                document.body.classList.toggle('larger-text');
                textSizeBtn.classList.toggle('active');
            });

            // Gère la désactivation des animations
            animationsBtn.addEventListener('click', () => {
                const body = document.body;
                body.classList.toggle('no-animations');
                animationsBtn.classList.toggle('active');
                
                // Si les animations sont désactivées, supprime la classe d'animation
                if (body.classList.contains('no-animations')) {
                    swipePrompt.style.animation = 'none';
                    slider.style.transition = 'none';
                } else {
                    swipePrompt.style.animation = 'bounce-right 2s infinite';
                    slider.style.transition = 'transform 0.5s ease-in-out';
                }
            });

            // Fonctionnalités factices
            screenReaderBtn.addEventListener('click', () => {
                console.log("Lecteur d'écran activé ! (Fonctionnalité factice)");
                screenReaderBtn.classList.toggle('active');
            });

            voiceCommandBtn.addEventListener('click', () => {
                console.log("Commandes vocales activées ! (Fonctionnalité factice)");
                voiceCommandBtn.classList.toggle('active');
            });

            // Affiche le modal de mentions légales
            legalLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(legalModal);
            });
            
            // Ferme le modal de mentions légales
            closeLegalModalBtn.addEventListener('click', () => {
                closeModal(legalModal);
            });
            
            // Affiche le modal de la newsletter
            newsletterLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(newsletterModal);
            });
            
            // Ferme le modal de la newsletter
            closeNewsletterModalBtn.addEventListener('click', () => {
                closeModal(newsletterModal);
            });

            // Affiche le modal de contact
            contactLink.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(contactModal);
            });
            
            // Ferme le modal de contact
            closeContactModalBtn.addEventListener('click', () => {
                closeModal(contactModal);
            });

            // Affiche le modal de la politique de confidentialité
            privacyPolicyLink.addEventListener('click', (e) => {
                e.preventDefault();
                closeModal(newsletterModal); // Ferme d'abord le modal de la newsletter
                openModal(privacyPolicyModal);
            });

            // Ferme le modal de la politique de confidentialité
            closePrivacyPolicyModalBtn.addEventListener('click', () => {
                closeModal(privacyPolicyModal);
            });
            
            // Gère la soumission des formulaires (factice)
            const newsletterForm = document.getElementById('newsletter-form');
            const newsletterRGPDCheckbox = document.getElementById('newsletter-rgpd');

            if (newsletterForm) {
                newsletterForm.addEventListener('submit', (e) => {
                    // Empêche la soumission par défaut pour que Formspree puisse la gérer
                    e.preventDefault();

                    // Vérifie si la case RGPD est cochée
                    if (!newsletterRGPDCheckbox.checked) {
                        showStatusModal(
                            "Erreur d'inscription",
                            "Veuillez accepter les conditions de traitement des données pour vous inscrire.",
                            false
                        );
                        return; // Empêche le reste du code de s'exécuter
                    }

                    // Envoyer le formulaire à Formspree
                    fetch(e.target.action, {
                        method: newsletterForm.method,
                        body: new FormData(newsletterForm),
                        headers: {
                            'Accept': 'application/json'
                        }
                    }).then(response => {
                        if (response.ok) {
                            closeModal(newsletterModal);
                            showStatusModal("Inscription réussie !", "Merci de vous être abonné à notre newsletter.", true);
                        } else {
                            response.json().then(data => {
                                if (Object.hasOwn(data, 'errors')) {
                                    showStatusModal("Erreur", data["errors"].map(error => error["message"]).join(", "), false);
                                } else {
                                    showStatusModal("Erreur", "Oops! Une erreur s'est produite lors de la soumission du formulaire.", false);
                                }
                            });
                        }
                    }).catch(error => {
                        showStatusModal("Erreur", "Oops! Une erreur s'est produite lors de la soumission du formulaire. Veuillez réessayer plus tard.", false);
                    });
                });
            }

            const contactForm = document.getElementById('contact-form');
            if (contactForm) {
                contactForm.addEventListener('submit', (e) => {
                    // Empêche la soumission par défaut
                    e.preventDefault();
                    // Envoyer le formulaire à Formspree
                    fetch(e.target.action, {
                        method: contactForm.method,
                        body: new FormData(contactForm),
                        headers: {
                            'Accept': 'application/json'
                        }
                    }).then(response => {
                        if (response.ok) {
                            closeModal(contactModal);
                            showStatusModal("Message envoyé !", "Merci de nous avoir contacté. Nous vous répondrons dans les plus brefs délais.", true);
                        } else {
                            response.json().then(data => {
                                if (Object.hasOwn(data, 'errors')) {
                                    showStatusModal("Erreur", data["errors"].map(error => error["message"]).join(", "), false);
                                } else {
                                    showStatusModal("Erreur", "Oops! Une erreur s'est produite lors de la soumission du formulaire.", false);
                                }
                            });
                        }
                    }).catch(error => {
                        showStatusModal("Erreur", "Oops! Une erreur s'est produite lors de la soumission du formulaire. Veuillez réessayer plus tard.", false);
                    });
                });
            }

            // Initialise le slider au chargement
            updateSlider();
            resetInactivityTimer(); // Démarre le minuteur au chargement de la page
        });
    </script>
</body>
</html>
