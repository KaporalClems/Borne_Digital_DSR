<!DOCTYPE html>
<html lang="fr">
<head>
Â  <meta charset="UTF-8">
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  <title>Widget Restaurants</title>
Â  <style>
Â  Â  body { font-family: Arial, sans-serif; margin:0; }
Â  Â  .slider-container {
Â  Â  Â  position: relative;
Â  Â  Â  width: 100%;
Â  Â  Â  max-width: 1000px;
Â  Â  Â  margin: auto;
Â  Â  Â  overflow: hidden;
Â  Â  Â  border-radius: 10px;
Â  Â  }
    /* âœ… C'est la ligne importante pour votre widget */
    .widget-restos-wrapper {
        overflow-y: hidden;
    }
Â  Â  .slider {
Â  Â  Â  display: flex;
Â  Â  Â  transition: transform 0.5s ease-in-out;
Â  Â  }
Â  Â  .slide {
Â  Â  Â  flex: 0 0 100%; /* par dÃ©faut : 1 slide = 100% largeur */
Â  Â  Â  box-sizing: border-box;
Â  Â  Â  text-align: center;
Â  Â  Â  cursor: pointer;
Â  Â  Â  padding: 15px;
Â  Â  Â  background: white;
Â  Â  Â  border-radius: 10px;
Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
Â  Â  Â  margin: 5px;
Â  Â  }
Â  Â  .slide img {
Â  Â  Â  width: 100%;
Â  Â  Â  max-height: 200px;
Â  Â  Â  object-fit: cover;
Â  Â  Â  border-radius: 10px;
Â  Â  }
Â  Â  .controls {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 50%;
Â  Â  Â  width: 100%;
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: space-between;
Â  Â  Â  transform: translateY(-50%);
Â  Â  }
Â  Â  .controls button {
Â  Â  Â  background: rgba(0,0,0,0.5);
Â  Â  Â  color: white;
Â  Â  Â  border: none;
Â  Â  Â  padding: 10px;
Â  Â  Â  cursor: pointer;
Â  Â  Â  border-radius: 50%;
Â  Â  }
Â  Â  h3 { margin: 10px 0 5px; color:#8c2d04; font-size: 1rem; }
Â  Â  p, small { margin: 0; color:#555; font-size: 0.9rem; }

Â  Â  /* âœ… Responsive */
Â  Â  @media (min-width: 600px) {
Â  Â  Â  .slide { flex: 0 0 50%; } /* tablette : 2 par ligne */
Â  Â  }
Â  Â  @media (min-width: 900px) {
Â  Â  Â  .slide { flex: 0 0 33.33%; } /* desktop : 3 par ligne */
Â  Â  }
Â  Â  @media (min-width: 1200px) {
Â  Â  Â  .slide { flex: 0 0 25%; } /* grand Ã©cran : 4 par ligne */
Â  Â  }
Â  </style>
</head>
<body>

Â  <h2 style="text-align:center; color:#8c2d04;">ğŸ½ï¸ Les restaurants locaux</h2>
    <div class="widget-restos-wrapper">
        <h3 style="margin-left:20px; color:#8c2d04;">Nos Restaurants</h3>
        <div class="slider-container">
            <div class="slider" id="slider"></div>
            <div class="controls">
                <button onclick="prevSlide()">â€¹</button>
                <button onclick="nextSlide()">â€º</button>
            </div>
        </div>
    </div>
Â  <script>
Â  Â  let currentIndex = 0;
Â  Â  const slider = document.getElementById("slider");

Â  Â  // Charger les restos depuis restaurants.json
Â  Â  fetch("restaurants.json")
Â  Â  Â  .then(r => r.json())
Â  Â  Â  .then(restos => {
Â  Â  Â  Â  restos.forEach(resto => {
Â  Â  Â  Â  Â  const slide = document.createElement("div");
Â  Â  Â  Â  Â  slide.className = "slide";
Â  Â  Â  Â  Â  slide.innerHTML = `
Â  Â  Â  Â  Â  Â  <img src="${resto.image}" alt="${resto.name}">
Â  Â  Â  Â  Â  Â  <h3>${resto.name}</h3>
Â  Â  Â  Â  Â  Â  <p>${resto.price} â€¢ â˜… ${resto.rating}</p>
Â  Â  Â  Â  Â  Â  <small>${resto.commune}</small>
Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  slide.onclick = () => window.top.location.href = "DestinationRestos.html#" + encodeURIComponent(resto.name);
Â  Â  Â  Â  Â  slider.appendChild(slide);
Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  function showSlide(index) {
Â  Â  Â  const slideWidth = document.querySelector(".slide")?.offsetWidth || 0;
Â  Â  Â  const visibleCount = Math.round(slider.offsetWidth / slideWidth);
Â  Â  Â  const totalSlides = document.querySelectorAll(".slide").length;
Â  Â  Â  const maxIndex = totalSlides - visibleCount;

Â  Â  Â  if (index > maxIndex) currentIndex = 0;
Â  Â  Â  else if (index < 0) currentIndex = maxIndex;
Â  Â  Â  else currentIndex = index;

Â  Â  Â  slider.style.transform = `translateX(${-currentIndex * slideWidth}px)`;
Â  Â  }
Â  Â  function nextSlide() { showSlide(currentIndex + 1); }
Â  Â  function prevSlide() { showSlide(currentIndex - 1); }

Â  Â  setInterval(nextSlide, 5000);
Â  </script>

</body>
</html>
